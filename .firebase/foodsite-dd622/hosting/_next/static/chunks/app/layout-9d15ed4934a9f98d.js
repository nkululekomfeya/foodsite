(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5688:function(e,t,a){Promise.resolve().then(a.bind(a,7707))},6667:function(e,t,a){"use strict";a.d(t,{i:function(){return s}});let s=(0,a(2265).createContext)(null)},8176:function(e,t,a){"use strict";let{default:s}=a(4681),r=s.create({baseURL:"http://localhost:1337/api"});t.Z={getCategory:()=>r.get("/categories?populate=*"),getSliders:()=>r.get("/sliders?populate=*").then(e=>e.data.data),getCategoryList:()=>r.get("/categories?populate=*").then(e=>e.data.data),getProductList:()=>r.get("/products?populate=*").then(e=>e.data.data),getProductsByCategory:e=>r.get("/products?filters[categories][name][$in]=".concat(e,"&populate=*")).then(e=>e.data.data).catch(e=>{throw console.error("Error fetching products by category:",e),e}),registerUser:(e,t,a)=>r.post("/auth/local/register",{username:e,email:t,password:a}),SignIn:(e,t)=>r.post("/auth/local",{identifier:e,password:t}),addToCart:(e,t)=>r.post("/user-carts",e,{headers:{Authorization:"Bearer "+t}}),getCartItems:(e,t)=>r.get("/user-carts?filters[userid][$eq]=".concat(e,"&[populate][products][populate][images][populate][0]=url"),{headers:{Authorization:"Bearer "+t}}).then(e=>e.data.data.map((e,t)=>{var a,s,r;return{name:null===(a=e.attributes.products)||void 0===a?void 0:a.data.attributes.name,quantity:e.attributes.quantity,amount:e.attributes.amount,image:null===(s=e.attributes.products)||void 0===s?void 0:s.data.attributes.images.data[0].attributes.formats.large.url,actualPrice:null===(r=e.attributes.products)||void 0===r?void 0:r.data.attributes.mrp,id:e.id}})).catch(e=>{throw console.error("Error fetching products by cart items:",e),e}),deleteCartItem:(e,t)=>r.delete("/user-carts/"+e,{headers:{Authorization:"Bearer "+t}})}},7707:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return H}});var s=a(7437),r=a(2615),o=a.n(r),n=a(6360),i=a(4129),d=a(4817),l=a(638),c=a(2299),u=a(6648),m=a(2265),f=a(4650),p=a(7592),h=a(2468),x=a(8165),g=a(7700);let b=f.fC,j=f.xz;f.ZA,f.Uv,f.Tr,f.Ee,m.forwardRef((e,t)=>{let{className:a,inset:r,children:o,...n}=e;return(0,s.jsxs)(f.fF,{ref:t,className:(0,g.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",a),...n,children:[o,(0,s.jsx)(p.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=f.fF.displayName,m.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(f.tu,{ref:t,className:(0,g.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=f.tu.displayName;let y=m.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...o}=e;return(0,s.jsx)(f.Uv,{children:(0,s.jsx)(f.VY,{ref:t,sideOffset:r,className:(0,g.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});y.displayName=f.VY.displayName;let N=m.forwardRef((e,t)=>{let{className:a,inset:r,...o}=e;return(0,s.jsx)(f.ck,{ref:t,className:(0,g.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",a),...o})});N.displayName=f.ck.displayName,m.forwardRef((e,t)=>{let{className:a,children:r,checked:o,...n}=e;return(0,s.jsxs)(f.oC,{ref:t,className:(0,g.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:o,...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(f.wU,{children:(0,s.jsx)(h.Z,{className:"h-4 w-4"})})}),r]})}).displayName=f.oC.displayName,m.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(f.Rk,{ref:t,className:(0,g.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(f.wU,{children:(0,s.jsx)(x.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=f.Rk.displayName;let v=m.forwardRef((e,t)=>{let{className:a,inset:r,...o}=e;return(0,s.jsx)(f.__,{ref:t,className:(0,g.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...o})});v.displayName=f.__.displayName;let w=m.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(f.Z0,{ref:t,className:(0,g.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});w.displayName=f.Z0.displayName;var C=a(8176),k=a(7138),z=a(6463),R=a(6667),S=a(3304),Z=a(2218),E=a(4697);let _=S.fC,I=S.xz,V=S.x8,A=S.h_,B=m.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.aV,{className:(0,g.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});B.displayName=S.aV.displayName;let P=(0,Z.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),L=m.forwardRef((e,t)=>{let{side:a="right",className:r,children:o,...n}=e;return(0,s.jsxs)(A,{children:[(0,s.jsx)(B,{}),(0,s.jsxs)(S.VY,{ref:t,className:(0,g.cn)(P({side:a}),r),...n,children:[o,(0,s.jsxs)(S.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(E.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});L.displayName=S.VY.displayName;let O=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,g.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};O.displayName="SheetHeader";let U=m.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.Dx,{ref:t,className:(0,g.cn)("text-lg font-semibold text-foreground",a),...r})});U.displayName=S.Dx.displayName;let q=m.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.dk,{ref:t,className:(0,g.cn)("text-sm text-muted-foreground",a),...r})});q.displayName=S.dk.displayName;var F=a(399),Y=function(e){let{cartItemList:t,onDeleteItem:a}=e;return(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"h-[500px] overflow-auto",children:t.map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-normal p-2 mb-5",children:[(0,s.jsx)("div",{className:"flex gap-6 items-center",children:(0,s.jsx)(u.default,{className:"border p-2",src:"http://localhost:1337"+e.image,width:90,height:90,alt:e.name})}),(0,s.jsxs)("div",{className:"px-5",children:[(0,s.jsx)("h2",{className:"font-bold",children:e.name}),(0,s.jsxs)("h2",{children:["Quantity ",e.quantity]}),(0,s.jsxs)("h2",{className:"text-md font-bold",children:["R ",e.amount]})]}),(0,s.jsx)(F.Z,{onClick:()=>a(e.id),className:"cursor-pointer"})]}))})})},D=a(7776);function M(){let e=(0,z.useRouter)(),{updateCart:t}=(0,m.useContext)(R.i),[a,r]=(0,m.useState)([]),[o,f]=(0,m.useState)([]),[p,h]=(0,m.useState)(0),[x,g]=(0,m.useState)(0),[S,Z]=(0,m.useState)(!1),[E,A]=(0,m.useState)(null),B=null;(0,m.useEffect)(()=>{Z(!!(B=sessionStorage.getItem("jwt"))),A(B?JSON.parse(sessionStorage.getItem("user")):null)},[]),(0,m.useEffect)(()=>{P()},[]),(0,m.useEffect)(()=>{F()},[t]);let P=()=>{C.Z.getCategory().then(e=>{r(e.data.data)})},F=async()=>{if(B&&E)try{let e=await C.Z.getCartItems(E.id,B);h(null==e?void 0:e.length),f(e)}catch(e){console.error("Error fetching cart items:",e)}};(0,m.useEffect)(()=>{let e=0;o.forEach(t=>{e+=t.amount}),g(e.toFixed(2))},[o]);let M=()=>{sessionStorage.clear(),e.push("/sign-in")};return(0,s.jsxs)("div",{className:"shadow-sm flex justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-8",children:[(0,s.jsx)(u.default,{src:"/logo2.jpg",alt:"icon",width:150,height:100}),(0,s.jsxs)(b,{className:"outline-none",children:[(0,s.jsx)(j,{children:(0,s.jsxs)("h2",{className:"hidden md:flex gap-2 items-center border rounded-full p-2 px-10 bg-slate-200 cursor-pointer",children:[(0,s.jsx)(i.Z,{className:"h-5 w-5"})," Category"]})}),(0,s.jsxs)(y,{children:[(0,s.jsx)(v,{children:"Browser Category"}),(0,s.jsx)(w,{}),a.map((e,t)=>{var a,r,o;return(0,s.jsx)(k.default,{href:"/products-category/".concat(e.attributes.name),children:(0,s.jsxs)(N,{className:"flex gap-4 items-center cursor-pointer",children:[(0,s.jsx)(u.default,{src:"http://localhost:1337"+(null===(r=e.attributes.icon.data[0])||void 0===r?void 0:null===(a=r.attributes)||void 0===a?void 0:a.url),alt:"icon",width:30,height:30,unoptimized:!0}),(0,s.jsx)("h2",{className:"text-lg",children:null==e?void 0:null===(o=e.attributes)||void 0===o?void 0:o.name})]})},t)})]})]}),(0,s.jsxs)("div",{className:"md:flex gap-3 items-center border rounded-full p-2 px-5 hidden",children:[(0,s.jsx)(d.Z,{}),(0,s.jsx)("input",{type:"text",placeholder:"Search",className:"outline-none"})]})]}),(0,s.jsxs)("div",{className:"flex gap-5 items-center",children:[(0,s.jsxs)(_,{children:[(0,s.jsx)(I,{children:(0,s.jsxs)("h2",{className:"flex gap-2 items-center text-lg",children:[(0,s.jsx)(l.Z,{className:"h-7 w-7"}),(0,s.jsx)("span",{className:"bg-primary text-white px-2 rounded-full",children:p})]})}),(0,s.jsxs)(L,{children:[(0,s.jsxs)(O,{children:[(0,s.jsx)(U,{className:"bg-primary text-white font-bold text-lg",children:"My Cart"}),(0,s.jsx)(q,{children:(0,s.jsx)(Y,{cartItemList:o,onDeleteItem:e=>{C.Z.deleteCartItem(e,B).then(e=>{(0,D.A)("Item removed!"),F()}).catch(e=>{(0,D.A)("Could not delete.")})}})})]}),(0,s.jsx)(V,{asChild:!0,children:(0,s.jsxs)("div",{className:"absolute w-[90%] bottom-6 flex flex-col",children:[(0,s.jsxs)("h2",{className:"text-lg font-bold flex justify-between",children:["Subtotal ",(0,s.jsxs)("span",{children:["R",x]})]}),(0,s.jsx)(n.z,{onClick:()=>e.push(B?"/checkout":"/sign-in"),children:"View Cart"})]})})]})]}),S?(0,s.jsxs)(b,{children:[(0,s.jsx)(j,{asChild:!0,children:(0,s.jsx)(c.Z,{className:"cursor-pointer h-7 w-7 bg-white-100 text-black"})}),(0,s.jsxs)(y,{children:[(0,s.jsx)(v,{children:"My Account"}),(0,s.jsx)(w,{}),(0,s.jsx)(N,{children:"Profile"}),(0,s.jsx)(N,{children:"My Orders"}),(0,s.jsx)(N,{onClick:()=>M(),children:"Logout"})]})]}):(0,s.jsx)(k.default,{href:"/sign-in",children:(0,s.jsx)(n.z,{children:"Login"})})]})]})}var T=a(9512);let $=e=>{let{...t}=e,{theme:a="system"}=(0,T.F)();return(0,s.jsx)(D.x,{theme:a,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function H(e){let{children:t}=e,a=(0,z.usePathname)(),[r,n]=(0,m.useState)(!1);return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:o().className,children:(0,s.jsxs)(R.i.Provider,{value:{updateCart:r,setUpdateCart:n},children:["/sign-in"!=a&&"/create-account"!=a&&(0,s.jsx)(M,{}),t,(0,s.jsx)($,{})]})})})}},6360:function(e,t,a){"use strict";a.d(t,{z:function(){return l}});var s=a(7437),r=a(2265),o=a(1538),n=a(2218),i=a(7700);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:l=!1,...c}=e,u=l?o.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:r,size:n,className:a})),ref:t,...c})});l.displayName="Button"},7700:function(e,t,a){"use strict";a.d(t,{cn:function(){return o}});var s=a(4839),r=a(6164);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[592,150,323,134,971,23,744],function(){return e(e.s=5688)}),_N_E=e.O()}]);